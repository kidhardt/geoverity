---
import BasePageEs from "@/layouts/BasePageEs.astro";
import { t } from '@/i18n';
import '@/styles/pages/insights-hub.css';

const lang = 'es';
const pageMeta = {
  title: "Perspectivas - GeoVerity",
  description: "Explorando educación de posgrado, responsabilidad epistémica y uso de IA en el ámbito académico.",
  translationStatus: "approved",
  lastReviewed: new Date().toISOString()
};

// TODO: When implementing blog functionality, fetch posts here
// const posts = await getCollection('insights');
const posts: any[] = [];
---

<BasePageEs {...pageMeta}>
  <section class="insights-hero" aria-labelledby="insights-heading">
    <h1 id="insights-heading">{t(lang, 'insightsHub.heroHeading')}</h1>
    <p>{t(lang, 'insightsHub.heroSubheading')}</p>
  </section>

  <section class="insights-content" aria-labelledby="posts-heading">
    <h2 id="posts-heading" class="sr-only">{t(lang, 'insightsHub.allPosts')}</h2>

    {posts.length === 0 ? (
      <p class="no-posts">{t(lang, 'insightsHub.noPosts')}</p>
    ) : (
      <ul class="posts-list" role="list">
        {posts.map((post: any) => (
          <li>
            <article aria-labelledby={`post-${post.slug}`}>
              <h3 id={`post-${post.slug}`}>
                <a href={`/es/perspectivas/${post.slug}/`}>{post.data.title}</a>
              </h3>
              <p>{post.data.description}</p>
            </article>
          </li>
        ))}
      </ul>
    )}
  </section>
</BasePageEs>

